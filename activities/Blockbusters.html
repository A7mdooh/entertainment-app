<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>شبكة مسابقة الحروف</title>
  <style>
    body {
      background: #1e1e2f;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: sans-serif;
      color: #fff;
    }.container {
  display: flex;
  align-items: center;
  gap: 40px;
}

.score {
  text-align: center;
  font-size: 1.4rem;
  background: #2e2e42;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  min-width: 120px;
}

.score .team {
  font-size: 1.6rem;
  margin-bottom: 10px;
}

.score .points {
  font-size: 2.5rem;
  font-weight: bold;
}

.board {
  display: grid;
  grid-template-rows: repeat(6, 1fr);
  gap: 0px;
}

.row {
  display: flex;
  justify-content: center;
}

.hex {
  width: 80px;
  height: 92px;
  background: #f8dc8f;
  color: #002b5c;
  font-size: 2rem;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 4px;
  clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
  box-shadow: inset 0 0 5px rgba(0,0,0,0.3), 0 5px 12px rgba(0,0,0,0.2);
  transition: all 0.3s ease;
  position: relative;
}

.hex:hover {
  transform: scale(1.07);
  cursor: pointer;
  z-index: 2;
}

.hex.selected {
  background: linear-gradient(145deg, #ffcc00, #ffee99);
  border: 3px solid #ffea00;
  box-shadow: 0 0 15px rgba(255, 255, 0, 0.6);
}

.hex.red {
  background-color: #e53935;
  color: #fff;
}

.hex.green {
  background-color: #4caf50;
  color: #fff;
}

.hex.win {
  animation: blink 1s infinite alternate;
  border: 3px solid #fff;
}

@keyframes blink {
  from { box-shadow: 0 0 10px 5px #fff; }
  to { box-shadow: 0 0 5px 2px #fff; }
}

.row:nth-child(even) {
  margin-right: 42px;
}

.green-border {
  border-top: 6px solid #4caf50;
  border-bottom: 6px solid #4caf50;
}

.red-border {
  border-left: 6px solid #e53935;
  border-right: 6px solid #e53935;
}

  </style>
</head>
<body>
  <div class="container">
    <div class="score" id="scoreGreen">
      <div class="team">🟢 الفريق الأخضر</div>
      <div class="points">0</div>
    </div><div class="board" id="board">
  <div class="row">
    <div class="hex green-border">ش</div>
    <div class="hex">خ</div>
    <div class="hex">ف</div>
    <div class="hex green-border">ح</div>
  </div>
  <div class="row">
    <div class="hex red-border">٩</div>
    <div class="hex">ع</div>
    <div class="hex">د</div>
    <div class="hex red-border">١</div>
  </div>
  <div class="row">
    <div class="hex red-border">ق</div>
    <div class="hex">ر</div>
    <div class="hex">س</div>
    <div class="hex red-border">٧</div>
  </div>
  <div class="row">
    <div class="hex red-border">ص</div>
    <div class="hex">ت</div>
    <div class="hex">ن</div>
    <div class="hex red-border">م</div>
  </div>
  <div class="row">
    <div class="hex red-border">٤</div>
    <div class="hex">٢</div>
    <div class="hex">ب</div>
    <div class="hex red-border">٣</div>
  </div>
  <div class="row">
    <div class="hex green-border">٨</div>
    <div class="hex">ج</div>
    <div class="hex">أ</div>
    <div class="hex green-border">٦</div>
  </div>
</div>

<div class="score" id="scoreRed">
  <div class="team">🔴 الفريق الأحمر</div>
  <div class="points">0</div>
</div>

  </div>  <script>
    let currentTeam = 'green';
    let greenScore = 0;
    let redScore = 0;

    const board = document.getElementById('board');
    const hexes = Array.from(board.getElementsByClassName('hex'));

    function indexToCoord(index) {
      return [Math.floor(index / 4), index % 4];
    }

    function getNeighbors(index) {
      const [row, col] = indexToCoord(index);
      const neighbors = [];

      const directions = [
        [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0]
      ];
      if (row % 2 === 0) directions[1] = [-1, 0]; // adjust even rows

      for (let [dr, dc] of directions) {
        const r = row + dr;
        const c = col + dc;
        if (r >= 0 && r < 6 && c >= 0 && c < 4) {
          neighbors.push(r * 4 + c);
        }
      }
      return neighbors;
    }

    function hasWinningPath(teamClass, fromSide) {
      const visited = new Set();
      const stack = [];

      if (fromSide === 'left') {
        for (let r = 0; r < 6; r++) {
          const idx = r * 4 + 0;
          if (hexes[idx].classList.contains(teamClass)) {
            stack.push(idx);
            visited.add(idx);
          }
        }
      } else if (fromSide === 'top') {
        for (let c = 0; c < 4; c++) {
          const idx = 0 * 4 + c;
          if (hexes[idx].classList.contains(teamClass)) {
            stack.push(idx);
            visited.add(idx);
          }
        }
      }

      while (stack.length) {
        const current = stack.pop();
        const [r, c] = indexToCoord(current);

        if ((fromSide === 'left' && c === 3) || (fromSide === 'top' && r === 5)) {
          return Array.from(visited);
        }

        for (let n of getNeighbors(current)) {
          if (!visited.has(n) && hexes[n].classList.contains(teamClass)) {
            visited.add(n);
            stack.push(n);
          }
        }
      }
      return null;
    }

    function highlightWin(cells) {
      cells.forEach(i => hexes[i].classList.add('win'));
    }

    hexes.forEach((hex, index) => {
      hex.addEventListener('click', () => {
        if (hex.classList.contains('green') || hex.classList.contains('red')) return;

        hex.classList.add(currentTeam);
        hex.classList.add('selected');

        if (currentTeam === 'green') {
          greenScore++;
          document.querySelector('#scoreGreen .points').textContent = greenScore;
          const path = hasWinningPath('green', 'top');
          if (path) highlightWin(path);
          currentTeam = 'red';
        } else {
          redScore++;
          document.querySelector('#scoreRed .points').textContent = redScore;
          const path = hasWinningPath('red', 'left');
          if (path) highlightWin(path);
          currentTeam = 'green';
        }

        setTimeout(() => hex.classList.remove('selected'), 600);
      });
    });
  </script></body>
</html>
